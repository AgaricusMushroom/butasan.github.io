<html>
 <head>
  <title>ブラックジャック</title>
 </head>
 <body background="haikei.jpg" bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#800080" alink="#ff0000">
  <!-- <Bgsound src="bgm3.mp3" Loop="-1"> -->
  <Div Align="center">
  <img src="BlackJack.gif" alt="ブラックジャック">
  </Div>
  <img id="11"  src="" border="0" alt="">
  <img id="12"  src="" border="0" alt="">
  <img id="13"  src="" border="0" alt="">
  <img id="14"  src="" border="0" alt="">
  <img id="15"  src="" border="0" alt="">
  <img id="16"  src="" border="0" alt="">
  <img id="17"  src="" border="0" alt="">
  <img id="18"  src="" border="0" alt="">
  <img id="19"  src="" border="0" alt="">
  <img id="20"  src="" border="0" alt="">
  <HR noshade size="5" color="#ffffff">
  <img id="1"  src="" border="0" alt="">
  <img id="2"  src="" border="0" alt="">
  <img id="3"  src="" border="0" alt="">
  <img id="4"  src="" border="0" alt="">
  <img id="5"  src="" border="0" alt="">
  <img id="6"  src="" border="0" alt="">
  <img id="7"  src="" border="0" alt="">
  <img id="8"  src="" border="0" alt="">
  <img id="9"  src="" border="0" alt="">
  <img id="10"  src="" border="0" alt="">
  <br>
  <input type="button" name="hit" value="ヒット(H)" accesskey="H" onClick="Button1()">
  <input type="button" name="stand" value="スタンド(S)" accesskey="S" onClick="Button3()">
  <input type="button" name="stand" value="ダブルダウン(D)" accesskey="D" onClick="Button4()">
  <input type="button" name="stand" value="インシュアランス(I)" accesskey="I" onClick="Button8()">
  <input type="button" name="stand" value="サレンダー(O)" accesskey="O" onClick="Button9()">
  <input type="button" name="temochi" value="手持ちの確認(C)" accesskey="C" onClick="Button2()">
  <input type="button" name="temochi" value="はじめから(N)"accesskey="N" onClick="Button5()">
  <input type="button" name="temochi" value="ゲームの説明(R)" accesskey="R" onClick="Button6()">
  <input type="button" name="temochi" value="リフレッシュ"onClick="Rifureshu()">
  <br>
  <script>
   var temochi=new Array("","","","","","","","","","");
   var temochi2=new Array("無し","無し","無し","無し","無し","無し","無し","無し","無し","無し");
   var naibu=new Array("無し","無し","無し","無し","無し","無し","無し","無し","無し","無し");
   var naibu2=new Array("無し","無し","無し","無し","無し","無し","無し","無し","無し","無し");
   var naibu3=new Array("無し","無し","無し","無し","無し","無し","無し","無し","無し","無し");
   var naibu4=new Array("無し","無し","無し","無し","無し","無し","無し","無し","無し","無し");
   var money=1000;
   var kazu=0;
   var kazu2=0;
   var i;
   var sum=0;
   var mysum=0;
   var esum=0;
   var hyouji
   var img = new Array();
   var id="1";
   var flg;
   var ok=100;
   var down=0;
   var bj=0;
   var bjstr="";
   var bj2=0;
   var bj2str="";
   var kettei=0;
   var game=0;
   var ok2=100;
   var tejun=0;
   var Nobust="false";
   var Jackfever="false";
   var Greatsplit="false";
   var Joker="false";
   var Hidden="false";
   var bflg=0;
   var str="";
   var gs;
   var jo=0;
   var highscore=0;
   var plus;
   var bgm=1;
   var insurance=0;
   var rifure=0;

   function Rifureshu(){
     if(rifure==1){
       gameset();
     }
   }

   function Button1(){
    if(game==1){
    if(kazu!=10){
     for(flg=0;flg!=1;){
      if(Joker=="true"){
       temochi[kazu] = parseInt(Math.random()*53);
      } else {
       temochi[kazu] = parseInt(Math.random()*51);
      }
      hyouji=temochi[kazu];
      naibu2[kazu] = temochi[kazu]+1;
      if(naibu2[kazu]>52){
       temochi[kazu]=14;
      } else {
       temochi[kazu]=temochi[kazu]%13+1;
      }
      naibu[kazu] = temochi[kazu];
      kaburi();
     }
     if(Hidden=="true"){
       if(id=="1"){
         document.getElementById(id).src=img[hyouji].src;
       } else {
         document.getElementById(id).src=img[54].src;
       }
     } else {
       document.getElementById(id).src=img[hyouji].src;
     }
     id++;
     if(Hidden=="true"){
       if(id=="2"){
         switch(temochi[kazu]){
           case 1:
           temochi[kazu]="A";
           break;
          case 11:
           temochi[kazu]="J";
           break;
          case 12:
           temochi[kazu]="Q";
           break;
          case 13:
           temochi[kazu]="K";
           break;
          case 14:
           temochi[kazu]="Joker";
           break;
         }
       } else {
         temochi[kazu]="???";
       }
     } else {
       switch(temochi[kazu]){
        case 1:
         temochi[kazu]="A";
         break;
        case 11:
         temochi[kazu]="J";
         break;
        case 12:
         temochi[kazu]="Q";
         break;
        case 13:
         temochi[kazu]="K";
         break;
        case 14:
         temochi[kazu]="Joker";
         break;
       }
     }
     kazu=kazu+1;
     bj=0;
     bjstr="";
     keisan()
     mysum=sum;
     if(Hidden=="true"){
       if(id=="2"){
         if(mysum>21){
           document.getElementById("kazu").value="Bust!!";
         } else {
           document.getElementById("kazu").value=mysum;
         }
       } else {
       }
     } else { 
         if(mysum>21){
           document.getElementById("kazu").value="Bust!!";
         } else {
           document.getElementById("kazu").value=mysum;
         }
       if(mysum>21){
        if(Nobust=="true"){
         if(nbust==0){
          nbust=1;
          alert("ノーバスト発動！ヒットをやり直します！");
          id--;
          kazu=kazu-1;
          Button1();
         }
        }
       }
     }
    } else {
     alert("これ以上ヒット出来ません。");
    }
    }
   }

   function Button2(){
    if(game==1){
    keisan();
    mysum=sum;
    if(Hidden=="true"){
      alert("あなたの手持ち　合計：???\n"+temochi[0]+"\n"+temochi[1]+"\n"+temochi[2]+"\n"+temochi[3]+"\n"+temochi[4]+"\n"+temochi[5]+"\n"+temochi[6]+"\n"+temochi[7]+"\n"+temochi[8]+"\n"+temochi[9]);
    } else {
      alert("あなたの手持ち　合計："+mysum+"\n"+temochi[0]+"\n"+temochi[1]+"\n"+temochi[2]+"\n"+temochi[3]+"\n"+temochi[4]+"\n"+temochi[5]+"\n"+temochi[6]+"\n"+temochi[7]+"\n"+temochi[8]+"\n"+temochi[9]);
    }
    }
   }

   function keisan(){
    gs=0;
    sum=0;
    if(tejun==0){
     for(i=0;i<kazu;i++){
      if(naibu[i]!=1){
       if(naibu[i]!=14){
        if(naibu[i]>=11){
         sum=sum+10;
        } else {
         sum=sum+naibu[i];
        }
       }
      }
     }
    } else {
     for(i=0;i<kazu2;i++){
      if(naibu3[i]!=1){
       if(naibu3[i]!=14){
        if(naibu3[i]>=11){
         sum=sum+10;
        } else {
         sum=sum+naibu3[i];
        }
       }
      }
     }
    }
  
    if(tejun==0){  
     for(i=0;i<kazu;i++){
      if(naibu[i]==1){
       if(sum+11>21){
        sum=sum+1;
       } else {
        sum=sum+11;
       }
      }
     }
     if(Greatsplit=="true"){
      for(i=0;i<kazu;i++){
       for(j=i+1;j<kazu;j++){
        if(naibu[i]==naibu[j]){
         gs++;
        }
       }
      }
     }
    } else {
     for(i=0;i<kazu2;i++){
      if(naibu3[i]==1){
       if(sum+11>21){
        sum=sum+1;
       } else {
        sum=sum+11;
       }
      }
     }
    }

    if(tejun==0){  
     for(i=0;i<kazu;i++){
      if(naibu[i]==14){
       if(sum<21){
        if(sum+11>21){
         sum=sum+(21-sum);
        } else {
         sum=sum+11;
        }
       }
      }
     }
    } else {
     for(i=0;i<kazu2;i++){
      if(naibu3[i]==14){
       jo=1;
       if(sum<21){
        if(sum+11>21){
         sum=sum+(21-sum);
        } else {
         sum=sum+11;
        }
       }
      }
     }
    }
   }

   function Button3(){
    if(game==1){
    if(money>=ok){
     if(down==1){
      ok=ok*2;
     }
     if(bj==1){
      if(Jackfever=="true"){
       alert("ジャックフィーバー！賭け金が２．５倍になります！");
       ok=ok*250;
       ok=ok/100;
      } else {
       alert("ブラックジャックボーナス！賭け金が１．５倍になります！");
       ok=ok*150;
       ok=ok/100;
      }
     }
     keisan();
     mysum=sum;
     plus=0;
     if(gs>=6){
      alert("グレートスプリット発動！勝利時の払い戻し額が２．５倍になります！");
      plus=ok*150;
      plus=ok/100
     } else if(gs>=3){
      alert("グレートスプリット発動！勝利時の払い戻し額が２倍になります！");
      plus=ok;
     } else if(gs>=1){
      alert("グレートスプリット発動！勝利時の払い戻し額が１．５倍になります！");
      plus=ok/2;
     }
    alert("相手のターンです。");
    tejun=1;
    id="13";
    if(Hidden=="true"){
      if(naibu3[0]==1 || naibu3[0]>=10){
        if(naibu3[0]==14){
        hit();
        }
      } else if(naibu3[0]>=3){
        hit();
      } else {
        hit();
        hit();
      }
      keisan();
      esum=sum;
    } else {
      for(flg=0;flg!=1;){
       keisan();
       esum=sum;
       if(jo==1){
        if(esum>=21){
         flg=1;
        } else {
         hit();
        }
       } else {
        if(esum>=17){
         flg=1;
        } else {
         hit();
        }
       }
      }
    }
    open();
    alert("手持ちのお金："+money+"\n賭け金："+ok+"\n相手の数："+esum+bj2str+"\n自分の数："+mysum+bjstr);
    if(bj==1 || bj2==1){
     if(bj==1 && bj2==1){
       alert("引き分けです。");
      } else if(bj==1){
       alert("あなたの勝ちです！");
       win();
      } else {
       alert("あなたの負けです…。");
       lose();
      }
    } else {
     if(mysum>21){
      if(esum>21){
       alert("引き分けです。");
      } else {
       alert("あなたの負けです…。");
       lose();
      }
     } else if(esum>21){
       alert("あなたの勝ちです！");
       win();
     } else if(mysum==esum){
       alert("引き分けです。");
     } else if(mysum>esum){
       alert("あなたの勝ちです！");
       win();
     } else {
       alert("あなたの負けです…。");
       lose();
     }
    }
    if(insurance==1){
      if(bj2==1){
        alert("インシュアランスに成功！\n$"+ok+"を手に入れました！");
        money=money+ok;
      } else {
        plus=ok/2;
        alert("インシュアランスに失敗しました…。\n$"+plus+"を没収されました…。");
        money=money-plus;
      }
    }
    rifure=1;
    gameset();
    } else {
     alert("お金が足りません。");
    }
    }
   }

   function restart(){
		  reset();
		  disp();
 		 if(kettei==1){
		   tejun=1;
                   id="11";
		   hit();
		   hit();
		   keisan();
 		   esum=sum;
 		   if(esum==21){
 		    bj2=1;
		    bj2str="(ブラックジャック)";
 		   }
 		   tejun=0;
                   id="1";
		   Button1();
		   Button1();
		   keisan();
 		   mysum=sum;
		   if(mysum==21){
		     if(Hidden=="false"){
		      alert("ブラックジャック！");
                                  }
		     bj=1;
		     bjstr="(ブラックジャック)";
		   }
  		}
   }


   function gameset(){
     if(money>highscore){
       highscore=money;
       localStorage.setItem("AgaricusBlackjackHighscore", highscore);
       document.getElementById("score").value=highscore;
     }
     if(money>=1){
        kettei=0;
        reset();
	if(window.confirm("もう一度プレイしますか？")){
                 restart();
              } else {
	   game=0;
	}
      } else {
       alert("貴方は破産してしまい、地下送りになった。\nＧＡＭＥ　ＯＶＥＲ");
       if(window.confirm("地下から這い上がりますか？")){
                   money=1000;
                   restart();
       } else {
         location.href = "BJ4_C.html";
       }
      }
    }

   function Button4(){
    if(game==1){
    if(Hidden=="true"){
      bj=0;
    }
    if(bj==1){
     alert("ブラックジャックです。このままスタンドしましょう！");
    } else {
     if(kazu<3){
      // ok=document.formA.textA.value;
      if(money>=ok){
       down=1;
       alert("ダブルダウン！賭け金が２倍になります！");
       Button1();
       Button3();
      } else {
       alert("お金が足りません。");
      }
     } else {
      alert("一度でもヒットするとダブルダウンすることは出来ません。");
     }
    }
    }
   }

   function Button5(){
	if(window.confirm("はじめからプレイしますか？\n（お金はリセットされます！）")){
   		 window.location.reload();
              } 
   }

   function Button6(){
    alert("ブラックジャックとは…\nプレイヤーとディーラー（対戦相手）がお互いトランプを引き、引いた数を足していきます。\nより２１に近い方が勝ちというゲームです。\nただし、２１を超えてしまうとバストしてしまいます。");
    alert("数の計算について…\n基本的に出た数がそのまま加算されますが、Ｊ，Ｑ，Ｋ，Ａのみ例外です。\nＪ，Ｑ，Ｋはすべて１０として計算されます。\nＡは１１として計算されますが、１１を足した結果が２１を超えてしまった場合、１として再計算されます。");
    alert("このゲームで使う用語の説明…\nヒット：トランプを１枚引きます。\nスタンド：この手札で確定し、勝負します。\nバスト：数の合計が２１を超えてしまった状態。相手もバストしていない限りは絶対に負けてしまいます。\nブラックジャック：最初の２枚で２１になった状態。ボーナスとして賭け金が１．５倍になります。\nビッド：お金を賭けます。このゲームではリスタートとして使います。");
    alert("特殊なコマンドについて…\nダブルダウン：掛け金を２倍にしてトランプを１枚だけ引き、そのまま勝負します。\nインシュアランス：相手がブラックジャックの可能性がある時、賭け金の半額を保険として掛ける事が出来ます。もし相手がブラックジャックだった場合、保険が倍になって返ってくるので、事実上の引き分けとなりますが、もしブラックジャックではなかった場合、保険は没収されます。\nサレンダー：最初に配られた２枚のカードを見て、勝ち目が無いと判断した場合は、賭け金の半額を放棄して勝負を降りる事が出来ます。ただし、相手がブラックジャックだった場合は失敗します（レイトサレンダー）。また、一度でもヒットするとサレンダーする事は出来ません。");
    alert("ディーラーのトランプは１枚目のみ確認することが出来ます。\n自分の手札と相談しながら戦いましょう。\n最後に信じるは己の運です。レッツトライ！");
    alert("最後に…\nお金がすべてなくなってしまうとゲームオーバーです！注意しましょう！");
   }

   function Button7(){
    if(game==0){
    		  restart();
     } else {
      alert("このボタンはゲームが終了した時のみ有効です。");
     }
   }

   function Button8(){
     if(game==1){
       if(insurance==1){
         alert("既にインシュアランスを行っています！");
       } else {
         if(naibu3[0]==1 || naibu3[0]>=10){
           plus=ok/2;
           if(window.confirm("賭け金の半額である$"+plus+"を追加してインシュアランスを行いますか？")){
             alert("インシュアランスを行いました！");
             insurance=1;
           }
         } else {
           alert("インシュアランスは相手の１枚目がA,10,J,Q,KもしくはJokerの時のみ有効です。");
         }
       }
     }
   }

   function Button9(){
     if(game==1){
       if(kazu<3){
         plus=ok/2;
         if(window.confirm("$"+plus+"を支払い、サレンダーを行いますか？\n（相手がブラックジャックの時は失敗します）")){
           id="12";
           for(i=1;i<kazu2;i++){
             hyouji=temochi2[i];
             document.getElementById(id).src=img[hyouji].src;
             id++;
           }
           if(bj2==1){
             alert("サレンダーに失敗しました…。");
             Button3();
           } else {
             alert("$"+plus+"を支払い、勝負を降りました。");
             money=money-plus;
             rifure=1;
             gameset();
           }
         }
       } else {
         alert("一度でもヒットするとサレンダーすることは出来ません。");
       }
     }
   } 

   function kaburi(){
    flg=1;
    if(tejun==0){
     for(i=0;i<kazu;i++){
      if(naibu2[i]==naibu2[kazu]){
       flg=0;
      }
     }
     for(i=0;i<kazu2;i++){
      if(naibu4[i]==naibu2[kazu]){
       flg=0;
      }
     }
    } else {
     for(i=0;i<kazu2;i++){
      if(naibu4[i]==naibu4[kazu2]){
       flg=0;
      }
     }
     for(i=0;i<kazu;i++){
      if(naibu2[i]==naibu4[kazu2]){
       flg=0;
      }
     }
    }
   }


   function submitStop(e){
    if (!e) var e = window.event;
    if(e.keyCode == 13)
        return false;
   }

   function hit(){
     bj2=0;
     for(flg=0;flg!=1;){
      if(Joker=="true"){
       temochi2[kazu2] = parseInt(Math.random()*53);
      } else {
       temochi2[kazu2] = parseInt(Math.random()*51);
      }
      hyouji=temochi2[kazu2];
      naibu4[kazu2] = temochi2[kazu2]+1;
      if(naibu4[kazu2]>52){
       naibu3[kazu2] = 14;
      } else {
       naibu3[kazu2] = temochi2[kazu2]%13+1;
      }
      kaburi();
     }
     if(id=="11"){
      document.getElementById(id).src=img[hyouji].src;
     } else {
      document.getElementById(id).src=img[54].src;
     }
     id++;
     kazu2=kazu2+1;
     flg=0;
   }

   function win(){
    money=money+ok+plus;
   }

   function lose(){
    money=money-ok;
   }

// クッキー保存　setCookie(クッキー名, クッキーの値, クッキーの有効日数); //
function setCookie(c_name,value,expiredays){
    // pathの指定
    var path = location.pathname;
    // pathをフォルダ毎に指定する場合のIE対策
    var paths = new Array();
    paths = path.split("/");
    if(paths[paths.length-1] != ""){
        paths[paths.length-1] = "";
        path = paths.join("/");
    }
    // 有効期限の日付
    var extime = new Date().getTime();
    var cltime = new Date(extime + (60*60*24*1000*expiredays));
    var exdate = cltime.toUTCString();
    // クッキーに保存する文字列を生成
    var s="";
    s += c_name +"="+ escape(value);// 値はエンコードしておく
    s += "; path="+ path;
    if(expiredays){
        s += "; expires=" +exdate+"; ";
    }else{
        s += "; ";
    }
    // クッキーに保存
    document.cookie=s;
}

// クッキーの値を取得 getCookie(クッキー名); //
function getCookie(c_name){
    var st="";
    var ed="";
    if(document.cookie.length>0){
        // クッキーの値を取り出す
        st=document.cookie.indexOf(c_name + "=");
        if(st!=-1){
            st=st+c_name.length+1;
            ed=document.cookie.indexOf(";",st);
            if(ed==-1) ed=document.cookie.length;
            // 値をデコードして返す
            return unescape(document.cookie.substring(st,ed));
        }
    }
    return "";
}


   function disp(){
	for(kettei=0;kettei <1;){
	ok = parseInt(window.prompt("賭け金を入力してください。手持ちのお金："+money, ok2));
               if(ok>money){
	alert("お金が足りません。");
	} else if (ok<=money){
	 kettei=1;
	 game=1;
	 ok2=ok;
	} else {
	 alert("入力が正しくありません。ゲームを終了します。");
         kettei=2;
	game=0;
	}
	}
   }

    function reset(){
     for(i=0;i<10;i++){
      temochi[i]="";
     }
     for(i=0;i<10;i++){
      naibu[i]="無し";
     }
     for(i=0;i<10;i++){
      naibu2[i]="無し";
     }
     kazu=0;
     i=0;
     sum=0;
     mysum=0;
     esum=0;
     hyouji=0;
     id="1";
     flg=0;
     ok=0;
     down=0;
     bj=0;
     bjstr="";
     bj2=0;
     bj2str="";
     kettei=0;
     tejun=0;
     kazu2=0;
     nbust=0;
     jo=0;
     insurance=0;
     rifure=0;
     document.getElementById(1).src=img[54].src;
     document.getElementById(2).src=img[54].src;
     document.getElementById(11).src=img[54].src;
     document.getElementById(12).src=img[54].src;
     for(i=3;i<=10;i++){
      document.getElementById(i).src="";
     }
     for(i=13;i<=20;i++){
      document.getElementById(i).src="";
     }
      document.getElementById('abc').value=money;
     rule();
    }

    function open(){
     alert("オープン！");
     id="12";
     for(i=1;i<kazu2;i++){
      hyouji=temochi2[i];
      document.getElementById(id).src=img[hyouji].src;
      id++;
     }
     if(Hidden=="true"){
       id="2";
       for(i=1;i<kazu;i++){
        hyouji=naibu2[i]-1;
        document.getElementById(id).src=img[hyouji].src;
        id++;
       }
     }
    }

    function Tokushu(){
     if(bflg==0){
      bflg=1;
      document.getElementById("Bonus").value="ボーナスルールを無効にする";
      document.getElementById("rule").style.display = "block";
      document.getElementById("t1").style.display = "block";
      document.getElementById("tt1").style.display = "block";
      document.getElementById("t2").style.display = "block";
      document.getElementById("tt2").style.display = "block";
      document.getElementById("t3").style.display = "block";
      document.getElementById("tt3").style.display = "block";
      document.getElementById("t4").style.display = "block";
      document.getElementById("tt4").style.display = "block";
      document.getElementById("t5").style.display = "block";
      document.getElementById("tt5").style.display = "block";
     } else {
      bflg=0;
      document.getElementById("Bonus").value="ボーナスルールを有効にする";
      document.getElementById("rule").style.display = "none";
      document.getElementById("t1").style.display = "none";
      document.getElementById("tt1").style.display = "none";
      document.getElementById("t2").style.display = "none";
      document.getElementById("tt2").style.display = "none";
      document.getElementById("t3").style.display = "none";
      document.getElementById("tt3").style.display = "none";
      document.getElementById("t4").style.display = "none";
      document.getElementById("tt4").style.display = "none";
      document.getElementById("t5").style.display = "none";
      document.getElementById("tt5").style.display = "none";
     }
    }

    function rule(){
      Nobust="false";
      Jackfever="false";
      Greatsplit="false";
      Joker="false";
      Hidden="false";
      document.getElementById("rule1").style.display = "none";
      document.getElementById("rule2").style.display = "none";
      document.getElementById("rule3").style.display = "none";
      document.getElementById("rule4").style.display = "none";
      document.getElementById("rule5").style.display = "none";
     if(bflg==0){
     } else {
       if( document.chbox.elements[0].checked ){
        str=str+document.chbox.elements[0].value;
        Nobust="true";
        str="";
        document.getElementById("rule1").style.display = "block";
       }
       if( document.chbox.elements[1].checked ){
        str=str+document.chbox.elements[1].value;
        Jackfever="true";
        str="";
        document.getElementById("rule2").style.display = "block";
       }
       if( document.chbox.elements[2].checked ){
        str=str+document.chbox.elements[2].value;
        Greatsplit="true";
        str="";
        document.getElementById("rule3").style.display = "block";
       }
       if( document.chbox.elements[3].checked ){
        str=str+document.chbox.elements[3].value;
        Joker="true";
        str="";
        document.getElementById("rule4").style.display = "block";
       }
       if( document.chbox.elements[4].checked ){
        str=str+document.chbox.elements[4].value;
        Hidden="true";
        str="";
        document.getElementById("rule5").style.display = "block";
       }
      }
     }

     function Setumei(){
      alert("ボーナスルールとは…\nこのゲームのオリジナルを含む特殊なルールを導入できます。\nボーナスルールを有効にして有効にしたいルールをクリックするとボーナスルールが適用されます。\nただし、ゲーム中に有効にした場合は、次のゲームから適用されます。");
      alert("ボーナスルールの内容…\nノーバスト：バストしてしまった際に１度だけヒットをやり直します。\nジャックフィーバー：ブラックジャックボーナスが２．５倍になります。\nグレートスプリット：手札に同じ数のトランプが２枚以上あった時に払い戻し額が１．５倍になります。\nジョーカー：ジョーカーが加えられます。 ジョーカーは１１として計算されますが、１１を足した結果が２１を超えてしまった場合、２１からの差分として再計算されます。（例：Ｊ　Ｑの時にジョーカーを引くと２１－２０の１となる）\nハイドカード：お互い１枚目しか見えない状態で勝負します。");
     }

    function onButtonClick() {
      selindex = document.form1.Select1.selectedIndex;
      target = document.getElementById("output");
      switch (selindex) {
        case 0:
          stop();
          break;
        case 1:
          Play();
          break;
        case 2:
          Play2();
          break;
        case 3:
          Play3();
          break;
        case 4:
          Play4();
          break;
        case 5:
          Play5();
          break;
        case 6:
          Play6();
          break;
      }
    }


   // 初期処理
   img[0] = new Image();
   img[0].src = "s01.png";
   img[1] = new Image();
   img[1].src = "s02.png";
   img[2] = new Image();
   img[2].src = "s03.png";
   img[3] = new Image();
   img[3].src = "s04.png";
   img[4] = new Image();
   img[4].src = "s05.png";
   img[5] = new Image();
   img[5].src = "s06.png";
   img[6] = new Image();
   img[6].src = "s07.png";
   img[7] = new Image();
   img[7].src = "s08.png";
   img[8] = new Image();
   img[8].src = "s09.png";
   img[9] = new Image();
   img[9].src = "s10.png";
   img[10] = new Image();
   img[10].src = "s11.png";
   img[11] = new Image();
   img[11].src = "s12.png";
   img[12] = new Image();
   img[12].src = "s13.png";
   img[13] = new Image();
   img[13].src = "h01.png";
   img[14] = new Image();
   img[14].src = "h02.png";
   img[15] = new Image();
   img[15].src = "h03.png";
   img[16] = new Image();
   img[16].src = "h04.png";
   img[17] = new Image();
   img[17].src = "h05.png";
   img[18] = new Image();
   img[18].src = "h06.png";
   img[19] = new Image();
   img[19].src = "h07.png";
   img[20] = new Image();
   img[20].src = "h08.png";
   img[21] = new Image();
   img[21].src = "h09.png";
   img[22] = new Image();
   img[22].src = "h10.png";
   img[23] = new Image();
   img[23].src = "h11.png";
   img[24] = new Image();
   img[24].src = "h12.png";
   img[25] = new Image();
   img[25].src = "h13.png";
   img[26] = new Image();
   img[26].src = "c01.png";
   img[27] = new Image();
   img[27].src = "c02.png";
   img[28] = new Image();
   img[28].src = "c03.png";
   img[29] = new Image();
   img[29].src = "c04.png";
   img[30] = new Image();
   img[30].src = "c05.png";
   img[31] = new Image();
   img[31].src = "c06.png";
   img[32] = new Image();
   img[32].src = "c07.png";
   img[33] = new Image();
   img[33].src = "c08.png";
   img[34] = new Image();
   img[34].src = "c09.png";
   img[35] = new Image();
   img[35].src = "c10.png";
   img[36] = new Image();
   img[36].src = "c11.png";
   img[37] = new Image();
   img[37].src = "c12.png";
   img[38] = new Image();
   img[38].src = "c13.png";
   img[39] = new Image();
   img[39].src = "d01.png";
   img[40] = new Image();
   img[40].src = "d02.png";
   img[41] = new Image();
   img[41].src = "d03.png";
   img[42] = new Image();
   img[42].src = "d04.png";
   img[43] = new Image();
   img[43].src = "d05.png";
   img[44] = new Image();
   img[44].src = "d06.png";
   img[45] = new Image();
   img[45].src = "d07.png";
   img[46] = new Image();
   img[46].src = "d08.png";
   img[47] = new Image();
   img[47].src = "d09.png";
   img[48] = new Image();
   img[48].src = "d10.png";
   img[49] = new Image();
   img[49].src = "d11.png";
   img[50] = new Image();
   img[50].src = "d12.png";
   img[51] = new Image();
   img[51].src = "d13.png";
   img[52] = new Image();
   img[52].src = "x01.png";
   img[53] = new Image();
   img[53].src = "x02.png";
   img[54] = new Image();
   img[54].src = "z01.png";

  //メイン処理
  highscore=localStorage.getItem("AgaricusBlackjackHighscore");

  </script>
  <br>
  <div><input id="kazu" type="text" size="10" value="あなたの数"></div>
  <br>
  <input type="button" name="temochi" value="ビッド(B)" accesskey="B" onClick="Button7()">
  <br>
  <p><font color ="#ffffff">ビッドをクリックしてゲームスタート！</font></p>
  <br>
 <font color="#ffffff">手持ちのお金</font>
 <div><input id="abc" type="text" size="10" value="error"></div>
<script type="text/javascript"><!--
document.getElementById('abc').value=money;
 //--></script>
 <font color="#ffffff">ハイスコア</font>
 <div><input id="score" type="text" size="10" value="error"></div>
<script type="text/javascript"><!--
document.getElementById("score").value=highscore;
 //--></script>
  <br>
  <br>
  <input type="button" id="Bonus" name="temochi" value="ボーナスルールを有効にする" onClick="Tokushu()">
  <form name="chbox">
  <font color ="#ffffff">
  <input type="checkbox" id="t1" style="display:none;" value="Nobust"/><label for="t1" id="tt1" style="display:none;">ノーバスト</label>
  <input type="checkbox" id="t2" style="display:none;" value="Jackfever"/><label for="t2" id="tt2" style="display:none;">ジャックフィーバー</label>
  <input type="checkbox" id="t3" style="display:none;" value="Greatsplit"/><label for="t3" id="tt3" style="display:none;">グレートスプリット</label>
  <input type="checkbox" id="t4" style="display:none;" value="Joker"/><label for="t4" id="tt4" style="display:none;">ジョーカー</label>
  <input type="checkbox" id="t5" style="display:none;" value="Joker"/><label for="t5" id="tt5" style="display:none;">ハイドカード</label>
  </font>
  </form>
  <input type="button" name="temochi" value="ボーナスルールの説明" onClick="Setumei()">
  <font color="#ffffff">
  <p id="rule" style="display:none;">適用中のボーナスルール：</p>
  </font>
  <font color="#00ffff">
  <p id="rule1" style="display:none;">ノーバスト</p>
  <p id="rule2" style="display:none;">ジャックフィーバー</p>
  <p id="rule3" style="display:none;">グレートスプリット</p>
  <p id="rule4" style="display:none;">ジョーカー</p>
  <p id="rule5" style="display:none;">ハイドカード</p>
  </font>
  <br>
  <br>
  <font color="#ffffff">ＢＧＭ</font>
  <br>
  <form name="form1" action="onButtonClick();">
    <select id="Select1"">
      <option>ＢＧＭ無し</option>
      <option  selected>ＢＧＭ１</option>
      <option>ＢＧＭ２</option>
      <option>ＢＧＭ３</option>
      <option>ＢＧＭ４</option>
      <option>ＢＧＭ５</option>
      <option>ＢＧＭ６</option>
    </select>
    <input type="button" value="再生" onclick="onButtonClick();" />
  </form>

  <a href="BJ.html">画像縮小版（ＢＧＭ無し）</a>
  <br>  <a href="index.html">戻る</a>
  <Div Align="right">
  <img src="byAgaricus.gif" alt="キノコ">
  </Div>
 <br>
 <br>
 <SCRIPT TYPE="text/javascript">

function stop(){
               MediaPlayer6.stop();
               MediaPlayer5.stop();
               MediaPlayer4.stop();
               MediaPlayer3.stop();
               MediaPlayer2.stop();
               MediaPlayer.stop();
	}

function Play(){
               stop();
               bgm=1;
	MediaPlayer.CurrentPosition = 0;
	MediaPlayer.play();
}

function Play2(){
               stop();
               bgm=2;
	MediaPlayer.CurrentPosition = 0;
	MediaPlayer2.play();
}

function Play3(){
               stop();
               bgm=3;
	MediaPlayer.CurrentPosition = 0;
	MediaPlayer3.play();
}

function Play4(){
               stop();
               bgm=4;
	MediaPlayer.CurrentPosition = 0;
	MediaPlayer4.play();
}

function Play5(){
               stop();
               bgm=5;
	MediaPlayer.CurrentPosition = 0;
	MediaPlayer5.play();
}

function Play6(){
               stop();
               bgm=6;
	MediaPlayer.CurrentPosition = 0;
	MediaPlayer6.play();
}

</SCRIPT>
<EMBED ID="MediaPlayer" AUTOSTART="0" LOOP="256" HIDDEN="true" SRC="bgm.mp3">
<EMBED ID="MediaPlayer2" AUTOSTART="0" LOOP="256" HIDDEN="true" SRC="bgm2.mp3">
<EMBED ID="MediaPlayer3" AUTOSTART="0" LOOP="256" HIDDEN="true" SRC="bgm3.mp3">
<EMBED ID="MediaPlayer4" AUTOSTART="0" LOOP="256" HIDDEN="true" SRC="bgm4.mp3">
<EMBED ID="MediaPlayer5" AUTOSTART="0" LOOP="256" HIDDEN="true" SRC="bgm5.mp3">
<EMBED ID="MediaPlayer6" AUTOSTART="0" LOOP="256" HIDDEN="true" SRC="bgm6.mp3">

 </body>
</html>